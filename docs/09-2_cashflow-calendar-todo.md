# Cashflow Calendar & Notification TODOs

> 기반 문서: `docs/09-1_cashflow-calendar-poc.md`

## 1. 기획 & 데이터 정의
- [ ] README 주요 기능 맥락 반영한 카드 카피/레이블 확정 (09-1 1,2장)
- [ ] RecurringExpense / UpcomingIncome 필드 목록 세부 정의 및 예시 데이터 작성 (09-1 §3.1, §4)
- [ ] CashflowSnapshot 생성 주기 및 보관 정책 결정 (09-1 §3.1)

## 2. 백엔드
- [ ] Prisma 스키마에 3개 모델 추가 후 마이그레이션 준비 (09-1 §4)
- [ ] `node-cron` 잡 구성해 다음 30일 스냅샷 생성 로직 구현 (09-1 §3.1)
- [ ] `GET /api/cashflow/upcoming` 엔드포인트에서 날짜별 이벤트/순현금/예상 잔액 반환 (09-1 §3.1)
- [ ] 통합 테스트로 반복 데이터와 스냅샷 응답 검증

## 3. 프론트엔드 카드 (현금흐름 미리보기)
- [ ] TanStack Query 훅으로 `useUpcomingCashflow` 작성 (09-1 §3.2)
- [ ] Mantine `Calendar`에 수입/지출 도트 색상 매핑 (민트/주황) (09-1 §3.2)
- [ ] Timeline 컴포넌트로 다음 7일 이벤트 리스트 렌더 (09-1 §3.2)
- [ ] 요약 지표(예상 잔액, 7일 고정비, 급여 D-Day) 계산 UI 구현 (09-1 §3.2)
- [ ] 날짜 클릭 시 Event Drawer/Modal에서 상세 정보 표시 (09-1 §3.2)

## 4. 알림 & 상태 관리
- [ ] Notification API 권한 요청 플로우 및 Zustand 상태 저장 (09-1 §3.3)
- [ ] 결제 3일 전 이벤트만 필터링하여 로컬 스케줄러에 등록 (09-1 §3.3)
- [ ] 알림 템플릿 "곧 {항목명} {금액} 결제 예정" + CTA 버튼 구현 (09-1 §3.3)

## 5. QA & 지표
- [ ] 카드 노출/클릭 추적 이벤트 추가 (09-1 §5)
- [ ] 알림 권한 허용률, 고정비 편집률 계산을 위한 분석 태그 설계 (09-1 §5)
- [ ] 이벤트 클릭 → 가계부 거래 연결 플로우 확장 여부 검토 (09-1 §6)
